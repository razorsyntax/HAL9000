<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="HAL9000.js"></script>
		<script type="text/javascript" src="algorithms.js"></script>
		<script type="text/javascript" src="layer.js"></script>
		<script type="text/javascript" src="neuron.js"></script>
		<script type="text/javascript" src="utilities.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.2.1/math.min.js"></script>
		
		<script src="jquery.min.js"></script>
		
	</head>
	<body>
		<div>
			<div>
				<div>Neural Network Object: </div>
				<div id="NN"></div>
				<div id="error"></div>
				<div id="output"></div>
			</div>
		</div>
	</body>
	<script>
		(function(){
			//          TESTING REGION          \\
			/***********************************/
			//Setting up an MNIST Neural Network


			//creates instance of NN obj
			var NN = new NeuralNetwork("Hal9000");

			//create 15 hidden neurons with activation attribute
			var neuronHidArr = NeuronArray(4, "logsig");

			//create hidden layer and give it attributes
			NN.createLayer({
				"name": "MNIST_Hidden",
				"type": "hidden",
				"neurons": neuronHidArr
			});

			//create 10 output neurons with activation attribute
			var neuronOutArr = NeuronArray(4, "logsig");

			//create output layer and give it attributes
			NN.createLayer({
				"name": "MNIST",
				"type": "output",
				"neurons": neuronOutArr
			});

			//set target array
			var targetArr = [0,0,0,1];
			//var targetArr = [0,1];
			NN.setTarget(targetArr);
			
			//set input array
			var inputs = [0,0,0,1];
			//var inputs = [0,1];

			//Initialize inputs
			//this step creates a JSON obj with all initial weights and biases in NN
    		NN.init(inputs); 

			//learning rate
			var rate = 0.5;

			//Testing ONLY
			$("#NN").data("network", NN);

			//Train NN with provided inputs
			for(let i=0;i<100000;i++){
				Train(NN, inputs, rate);

				var rate = 0.5;
				var inputs = [0,0,0,1];
				//var inputs = [0,1];
				NN = $("#NN").data("network");
				var error = $("#error").data("error");
				var outputArr = $("#output").data("output");
			}
			console.log("Error: " + error);
			console.log("Final Ouput: " + outputArr);


			/***********************************/

		}).call(this);
	</script>
</html>
